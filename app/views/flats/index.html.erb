<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.js"></script>
<link
rel="stylesheet"
href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.css"
type="text/css"
/>
<Div class="newmap">
<div class="mapboss" >
<div id='map'></div>
<div>
<script>
mapboxgl.accessToken = '<%= ENV['MAPBOX_API_KEY'] %>';
var map = new mapboxgl.Map({
container: 'map', // container id
style: 'mapbox://styles/mapbox/streets-v11',
center: [5.9829076, 49.8148347], // starting position
zoom: 9 // starting zoom
});
var marker = new mapboxgl.Marker()
.setLngLat([6.2239734, 49.6136199])
.addTo(map);



var marker = new mapboxgl.Marker()
.setLngLat([5.901887, 49.641085])
.addTo(map);

// Add geolocate control to the map.
map.addControl(
new mapboxgl.GeolocateControl({
positionOptions: {
enableHighAccuracy: true
},
trackUserLocation: true
})
);
map.addControl(
new MapboxDirections({
accessToken: mapboxgl.accessToken
}),
'top-left'
);
map.on('load', function () {
    map.resize();
});

if (navigator.geolocation) { // device can return its location
    navigator.geolocation.getCurrentPosition(function(position) {
         console.log(position.coords.latitude);
         console.log(position.coords.longitude);
    });
}
map.addControl(new mapboxgl.FullscreenControl());

</script>


    <%# <div class="card-w ">
    <div class="card20 neumorphism">
    <div class="card__icon">
   
    </div>
    <div class="card__text">
      1. Locate yourself      <br>
      2. Point your location and the nearest bin %>
    </div>
  </div>
  </div>
</div>
      <div class="newmapbtn">
<a href="/"><button class="btnnn btn--alpha"><span>Go Back</span></button></a>
</div>
 